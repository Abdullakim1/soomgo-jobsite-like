(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";e.s(["Headers",()=>a,"Request",()=>l,"Response",()=>s,"default",()=>i,"fetch",()=>t]);var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let t=r.fetch,i=r.fetch.bind(r),a=r.Headers,l=r.Request,s=r.Response},8357,e=>{"use strict";e.s(["default",()=>o],8357);var r=e.i(43476),t=e.i(11795),i=e.i(71645);let a=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,l=function(){for(var e,r,t=0,i="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,i,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r)if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(i=e(r[t]))&&(a&&(a+=" "),a+=i)}else for(i in r)r[i]&&(a&&(a+=" "),a+=i);return a}(e))&&(i&&(i+=" "),i+=r);return i},s=((e,r)=>t=>{var i;if((null==r?void 0:r.variants)==null)return l(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:s,defaultVariants:n}=r,o=Object.keys(s).map(e=>{let r=null==t?void 0:t[e],i=null==n?void 0:n[e];if(null===r)return null;let l=a(r)||a(i);return s[e][l]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,i]=r;return void 0===i||(e[t]=i),e},{});return l(e,o,null==r||null==(i=r.compoundVariants)?void 0:i.reduce((e,r)=>{let{class:t,className:i,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...n,...d}[r]):({...n,...d})[r]===t})?[...e,t,i]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)})("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 hover:bg-gray-100",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",ghost:"hover:bg-gray-100",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8"}},defaultVariants:{variant:"default",size:"default"}}),n=i.forwardRef((e,t)=>{let{className:i,variant:a,size:l,...n}=e;return(0,r.jsx)("button",{className:s({variant:a,size:l,className:i}),ref:t,...n})});function o(){let e=(0,t.createClient)(),[a,l]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{d()},[]);let d=async()=>{o(!0);try{let{data:r,error:t}=await e.from("profiles").select("id, full_name, verification_data").eq("role","instructor").eq("verified",!1).not("verification_data","is",null);if(t)throw t;l(r||[])}catch(e){console.error("Error fetching verifications:",e)}finally{o(!1)}},c=async r=>{try{let{error:t}=await e.from("profiles").update({verified:!0}).eq("id",r);if(t)throw t;l(a.filter(e=>e.id!==r))}catch(e){console.error("Approval failed:",e)}},u=async r=>{try{let{error:t}=await e.from("profiles").update({verification_data:null}).eq("id",r);if(t)throw t;l(a.filter(e=>e.id!==r))}catch(e){console.error("Rejection failed:",e)}};return s?(0,r.jsx)("div",{className:"p-8 text-center",children:"Loading..."}):(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-8",children:"Instructor Verifications"}),0===a.length?(0,r.jsx)("p",{className:"text-center text-gray-500",children:"No pending verifications"}):(0,r.jsx)("div",{className:"space-y-6",children:a.map(t=>(0,r.jsxs)("div",{className:"p-6 border rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:t.full_name}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Education Background"}),(0,r.jsx)("p",{className:"whitespace-pre-line",children:t.verification_data.education})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Past Lecture References"}),(0,r.jsx)("p",{className:"whitespace-pre-line",children:t.verification_data.references})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Supporting Documents"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.verification_data.documents.map(t=>(0,r.jsx)("a",{href:e.storage.from("verification-docs").getPublicUrl(t).data.publicUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm",children:"View Document"},t))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,r.jsx)(n,{variant:"destructive",onClick:()=>u(t.id),children:"Reject"}),(0,r.jsx)(n,{variant:"default",onClick:()=>c(t.id),children:"Approve"})]})]},t.id))})]})}n.displayName="Button"},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);