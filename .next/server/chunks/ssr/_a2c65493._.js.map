{"version":3,"sources":["turbopack:///[project]/src/app/jobs/[id]/apply-button.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { createClient } from '@/lib/supabase/client';\nimport { type User } from '@supabase/supabase-js';\n\nexport default function ApplyButton({ job, user, hasApplied }: { job: { id: string }, user: User, hasApplied: boolean }) {\n  const supabase = createClient();\n  const [loading, setLoading] = useState(false);\n  const [applied, setApplied] = useState(hasApplied);\n\n  async function handleApply() {\n    setLoading(true);\n    try {\n      const { error } = await supabase.from('job_applications').insert({\n        job_id: job.id,\n        instructor_id: user.id,\n      });\n\n      if (error) {\n        throw error;\n      }\n\n      setApplied(true);\n      alert('Application submitted successfully!');\n    } catch (error) {\n      console.error('Error submitting application:', error);\n      alert('There was an error submitting your application.');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  if (applied) {\n    return (\n      <p className=\"text-green-600 font-semibold mt-8\">You have already applied for this job.</p>\n    );\n  }\n\n  return (\n    <div className=\"mt-8\">\n      <button\n        onClick={handleApply}\n        disabled={loading}\n        className=\"w-full px-6 py-3 font-bold text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400\"\n      >\n        {loading ? 'Submitting...' : 'Apply for this Job'}\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGe,SAAS,EAAY,KAAE,CAAG,MAAE,CAAI,YAAE,CAAU,CAA4D,EACrH,IAAM,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IACvB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEvC,eAAe,IACb,GAAW,GACX,GAAI,CACF,GAAM,CAAE,OAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,oBAAoB,MAAM,CAAC,CAC/D,OAAQ,EAAI,EAAE,CACd,cAAe,EAAK,EAAE,AACxB,GAEA,GAAI,EACF,KADS,CACH,EAGR,EAAW,IACX,MAAM,sCACR,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,gCAAiC,GAC/C,MAAM,kDACR,QAAU,CACR,GAAW,EACb,CACF,QAEA,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,IAAA,CAAE,UAAU,6CAAoC,2CAKnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,0LAET,EAAU,gBAAkB,wBAIrC"}