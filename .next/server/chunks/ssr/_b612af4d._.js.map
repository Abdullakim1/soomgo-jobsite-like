{"version":3,"sources":["turbopack:///[project]/src/app/admin/verifications/page.tsx","turbopack:///[project]/node_modules/clsx/dist/clsx.mjs","turbopack:///[project]/node_modules/class-variance-authority/dist/index.mjs","turbopack:///[project]/src/components/ui/button.tsx"],"sourcesContent":["'use client';\n\nimport { createClient } from '@/lib/supabase/client';\nimport { useEffect, useState } from 'react';\nimport { Button } from '@/components/ui/button';\n\ntype Verification = {\n  id: string;\n  full_name: string;\n  verification_data: {\n    education: string;\n    references: string;\n    documents: string[];\n  };\n};\n\nexport default function VerificationReviewPage() {\n  const supabase = createClient();\n  const [verifications, setVerifications] = useState<Verification[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchPendingVerifications();\n  }, []);\n\n  const fetchPendingVerifications = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('profiles')\n        .select('id, full_name, verification_data')\n        .eq('role', 'instructor')\n        .eq('verified', false)\n        .not('verification_data', 'is', null);\n\n      if (error) throw error;\n      setVerifications(data || []);\n    } catch (error) {\n      console.error('Error fetching verifications:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleApprove = async (id: string) => {\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({ verified: true })\n        .eq('id', id);\n\n      if (error) throw error;\n      setVerifications(verifications.filter(v => v.id !== id));\n    } catch (error) {\n      console.error('Approval failed:', error);\n    }\n  };\n\n  const handleReject = async (id: string) => {\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({ verification_data: null })\n        .eq('id', id);\n\n      if (error) throw error;\n      setVerifications(verifications.filter(v => v.id !== id));\n    } catch (error) {\n      console.error('Rejection failed:', error);\n    }\n  };\n\n  if (loading) return <div className=\"p-8 text-center\">Loading...</div>;\n\n  return (\n    <div className=\"container mx-auto p-8\">\n      <h1 className=\"text-2xl font-bold mb-8\">Instructor Verifications</h1>\n      \n      {verifications.length === 0 ? (\n        <p className=\"text-center text-gray-500\">No pending verifications</p>\n      ) : (\n        <div className=\"space-y-6\">\n          {verifications.map((verification) => (\n            <div key={verification.id} className=\"p-6 border rounded-lg\">\n              <h2 className=\"text-xl font-bold mb-4\">{verification.full_name}</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h3 className=\"font-semibold mb-2\">Education Background</h3>\n                  <p className=\"whitespace-pre-line\">{verification.verification_data.education}</p>\n                </div>\n                \n                <div>\n                  <h3 className=\"font-semibold mb-2\">Past Lecture References</h3>\n                  <p className=\"whitespace-pre-line\">{verification.verification_data.references}</p>\n                </div>\n              </div>\n              \n              <div className=\"mt-4\">\n                <h3 className=\"font-semibold mb-2\">Supporting Documents</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {verification.verification_data.documents.map((doc) => (\n                    <a \n                      key={doc} \n                      href={supabase.storage.from('verification-docs').getPublicUrl(doc).data.publicUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm\"\n                    >\n                      View Document\n                    </a>\n                  ))}\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end space-x-4 mt-6\">\n                <Button \n                  variant=\"destructive\" \n                  onClick={() => handleReject(verification.id)}\n                >\n                  Reject\n                </Button>\n                <Button \n                  variant=\"default\" \n                  onClick={() => handleApprove(verification.id)}\n                >\n                  Approve\n                </Button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nexport const buttonVariants = cva(\n  'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-blue-600 text-white hover:bg-blue-700',\n        destructive: 'bg-red-600 text-white hover:bg-red-700',\n        outline: 'border border-gray-300 hover:bg-gray-100',\n        secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300',\n        ghost: 'hover:bg-gray-100',\n        link: 'text-blue-600 underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link';\n  size?: 'default' | 'sm' | 'lg';\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, ...props }, ref) => {\n    return (\n      <button\n        className={buttonVariants({ variant, size, className })}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = 'Button';\n\nexport { Button };\n"],"names":[],"mappings":"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","ignoreList":[1,2]}